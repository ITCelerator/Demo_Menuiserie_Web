<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="CSS/style.css" />
    <link rel="stylesheet" href="https://use.typekit.net/vyl6nnu.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;600&display=swap"
      rel="stylesheet"
    />
    <script src="./JS/formulaire.js" defer></script>
    <title>Accueil</title>
  </head>
  <body>
    <script src="https://itc.kbmax.com/embed.min.js"></script>
    <script>

      document.addEventListener("DOMContentLoaded", function () {
        var config = new kbmax.ConfiguratorEmbed({
          kbmaxUrl: "https://itc.kbmax.com",
          elementId: "viewer",
          configuratorId: 575,
          sceneId: 240,
          showHeader: false,
          showDrawer: false,
          showMove: false,
          bindToFormSelector: "#myForm",
          loadStyle: "none",
          parameters: { param1: "Particulier", Web: "oui", Camera: "Accueil" },
        });

        function setConfig(fieldName, fieldValue) {
          // Pour communniquer avec le configurateur KBMax
          if (fieldName == "fTable_Texture") {
            config.setFields({ fTable_Texture: fieldValue });
          } else if (fieldName == "fChoix_Mat_poignee") {
            config.setFields({ fChoix_Mat_poignee: fieldValue });
          } else if (fieldName == "fChoix_Mat") {
            config.setFields({ fChoix_Mat: fieldValue });
          }
        }

        setConfig("fChoix_Mat", "ALU");
        setConfig("fTable_Texture", "#71a1d2");
        setConfig("fChoix_Mat_poignee", "Laiton");

        function responsive() {
          console.log("responsive");
          if (window.innerWidth <= 900) {
            console.log("Vous êtes sur un appareil mobile !");
            config.getFields((fields) => {
              if (fields.fChoixCamera != "CameraMobile") {
                config.runAction("SetCameraMobile");
                console.log("RunAction fait");
              } else {
                console.log("RunAction pas fait");
              }
            });
          } else if (window.innerWidth > 900) {
            config.runAction("SetCameraAccueil");
          }
        }

        window.addEventListener("resize", responsive);
        document.addEventListener("DOMContentLoaded", responsive);
      });


    </script>

    <div id="viewer"></div>

    <div class="titreWidth">
      <div class="titreContainer">
        <h1 id="titre">Bienvenue sur le configurateur de fenêtre!</h1>
      </div>
    </div>

    <div class="containerForm">
    <div id="formAccueil">
      <h2>Identifiez-vous</h2>
      <form id="myForm" action="/pages/main.html">
        <div class="inputGroup">
          <label for="societe">Société <span class="asterisk">*</span></label>
          <input type="text" id="societe" name="fSociete" placeholder="" />
          <div class="error"></div>
        </div>

        <div class="inputGroup">
          <label for="fName"
            >Nom et Prénom <span class="asterisk">*</span></label
          >
          <input type="text" id="nom" name="fName" placeholder="" />
          <div class="error"></div>
        </div>

        <!-- <div class="inputGroup">
          <label for="departement"
            >Département <span class="asterisk">*</span></label
          >
          <select name="fDepartement" id="departement">
            <option value="Rhin"></option>
          </select>
        </div> -->

        <div class="inputGroup">
          <label for="email">Email <span class="asterisk">*</span></label>
          <input type="text" id="email" name="fMail" placeholder="" />
          <div class="error"></div>
        </div>

        <div class="radioGroup">
          <input type="radio" id="RGPD" name="fRGPD" value="oui" />
          <label for="RGPD"
            >Je consens à l'utilisation de mes données personnelles.
            <span class="asterisk">*</span>
          </label>
        </div>
        <div class="error radioError"></div>

        <button type="submit">Confirmer</button>
        <!-- <input type="submit" id="button" value="Confirmer" /> -->
      </form>
    </div>
  </div>
  </body>

<script>
  

</script>


</html>
